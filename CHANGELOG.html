<div class="changelog-container">
    <h1>Changelog - CS Quirky DB Fixes</h1>

    <div class="version">
        <h2>üöÄ Version 1.1.0 <span class="version-badge">February 2026</span></h2>

        <h3>üì¶ New Features</h3>
        <ul>
            <li><strong>Fix Missing Smart Search Tokens Table</strong>: Recreates the <code>finder_tokens</code> MEMORY table that is lost when MySQL restarts, causing "Table finder_tokens doesn't exist" errors</li>
            <li><strong>Fix Missing Smart Search Tokens Aggregate Table</strong>: Recreates the <code>finder_tokens_aggregate</code> MEMORY table that is also lost on MySQL restart</li>
            <li><strong>Auto-detect collation</strong>: Smart Search table fixes automatically detect the correct collation from existing <code>finder_terms</code> table to prevent collation mismatch errors</li>
        </ul>

        <h3>üîß Improvements</h3>
        <ul>
            <li><strong>Expanded Workflow System Restore (Fix 1)</strong>: Now checks and creates all 4 workflow tables (<code>workflows</code>, <code>workflow_stages</code>, <code>workflow_transitions</code>, <code>workflow_associations</code>) instead of just inserting a workflow record. Creates missing tables with full schema and inserts all default records (1 workflow, 1 stage, 7 transitions)</li>
            <li><strong>Full multi-lingual support</strong>: All user-facing strings now use Joomla language constants, including installation script messages, fix detail messages, and post-install UI</li>
            <li><strong>15 language translations</strong>: Includes translations for English, Dutch, German, Spanish, French, Italian, Portuguese (Brazil), Russian, Polish, Japanese, Chinese (Simplified), Turkish, Greek, Czech, and Swedish</li>
            <li><strong>Post-install link</strong>: Installation/update success page now shows a clickable button to open the component directly</li>
            <li><strong>Atum dark mode compatibility</strong>: Fixed button visibility in Atum dark mode template</li>
        </ul>

        <h3>üêõ Bug Fixes</h3>
        <ul>
            <li><strong>Removed incorrect workflow-enabled diagnostic</strong>: Removed the "Enable Workflows" button and diagnostic since <code>workflow_enabled</code> does NOT need to be enabled for articles to save properly</li>
            <li><strong>Fixed recurring workflow issues</strong>: Root cause identified - the <code>workflow_stages</code> and <code>workflow_transitions</code> tables were completely missing after J3-to-J4 migration, causing new articles to never receive workflow associations even after Fix 2 was applied</li>
        </ul>
    </div>

    <div class="version">
        <h2>üöÄ Version 1.0.0 <span class="version-badge">February 2026</span></h2>

        <h3>üì¶ Initial Release</h3>
        <ul>
            <li><strong>Fix Missing Default Workflow</strong>: Fixes the issue where NO articles appear in the Article Manager after migrating from Joomla 3 to Joomla 4 because the default workflow record is missing from the <code>#__workflows</code> table</li>
            <li><strong>Fix Missing Workflow Associations</strong>: Fixes the issue where SOME or ALL articles don't appear in the Article Manager after migration because they lack entries in the <code>#__workflow_associations</code> table</li>
            <li><strong>Fix Missing Smart Search Menu Items</strong>: Recreates the missing Index, Maps, Filters, and Searches submenu items under Components &gt; Smart Search when they disappear from the administrator menu</li>
        </ul>

        <h3>üîß Features</h3>
        <ul>
            <li><strong>Diagnostic checks</strong>: Each fix includes a diagnostic that shows whether the issue exists on your site before running</li>
            <li><strong>Table backup</strong>: Download a SQL backup of affected tables before running any fix</li>
            <li><strong>Confirmation required</strong>: Run Fix button is protected by a checkbox confirmation to ensure backups are taken</li>
            <li><strong>Status indicators</strong>: Visual indicators show which fixes need attention (warning) vs which are already resolved (success)</li>
        </ul>
    </div>
</div>
