; Cybersalt CS Quirky DB Fixes - Language Strings
; Copyright (C) 2026 Cybersalt Consulting Ltd. All rights reserved.
; License GNU General Public License version 2 or later

COM_CSQUIRKYDBFIXES="CS Quirky DB Fixes"
COM_CSQUIRKYDBFIXES_XML_DESCRIPTION="Run various SQL fixes for quirky Joomla database problems that occur from time to time."

; Warning box
COM_CSQUIRKYDBFIXES_WARNING_HEADING="Backup Your Database First!"
COM_CSQUIRKYDBFIXES_WARNING_DESC="These fixes modify your database directly. While they are designed to be safe, you should ALWAYS create a full database backup before running any fix. If something goes wrong, you will need a backup to restore the parts of your database being modified."
COM_CSQUIRKYDBFIXES_WARNING_BACKUP_TIP="Use the \"Download Backup\" button on each fix to download a backup of the specific tables that will be affected."

; Information box
COM_CSQUIRKYDBFIXES_INFO_HEADING="About This Tool"
COM_CSQUIRKYDBFIXES_INFO_DESC="This component provides fixes for quirky Joomla database issues that can occur during migrations, updates, or other circumstances. Each fix includes a diagnostic to show if the issue exists on your site."

; General UI
COM_CSQUIRKYDBFIXES_NO_FIXES_AVAILABLE="No fixes are currently available."
COM_CSQUIRKYDBFIXES_RUN_FIX="Run Fix"
COM_CSQUIRKYDBFIXES_DOWNLOAD_BACKUP="Download Backup"
COM_CSQUIRKYDBFIXES_DIAGNOSTIC="Diagnostic"
COM_CSQUIRKYDBFIXES_MORE_INFO="More Information"
COM_CSQUIRKYDBFIXES_NO_ISSUES_FOUND="No issues detected - all records are properly configured."
COM_CSQUIRKYDBFIXES_FIX_BY="Fix by: %s"
COM_CSQUIRKYDBFIXES_PROBLEM="Problem"
COM_CSQUIRKYDBFIXES_SQL_FIX="SQL Fix"
COM_CSQUIRKYDBFIXES_ACTION_NEEDED="Action Needed"
COM_CSQUIRKYDBFIXES_NO_ACTION_REQUIRED="No action required"

; Config
COM_CSQUIRKYDBFIXES_CONFIG_NO_OPTIONS="This component has no configurable options. Use the main interface to run database fixes."

; Checkbox confirmation
COM_CSQUIRKYDBFIXES_CONFIRM_BACKUP="I confirm that I have downloaded a backup, or made a backup of my database, or enjoy the taste of my tears when something goes wrong after I am encouraged to make a backup, but don't. ðŸ˜¢"

; Categories
COM_CSQUIRKYDBFIXES_CATEGORY_MIGRATION="Migration"
COM_CSQUIRKYDBFIXES_CATEGORY_CONTENT="Content"
COM_CSQUIRKYDBFIXES_CATEGORY_USERS="Users"
COM_CSQUIRKYDBFIXES_CATEGORY_MAINTENANCE="Maintenance"

; Messages
COM_CSQUIRKYDBFIXES_FIX_SUCCESS="Fix completed successfully. %d row(s) affected."
COM_CSQUIRKYDBFIXES_FIX_ERROR="Fix failed: %s"
COM_CSQUIRKYDBFIXES_ERROR_NO_FIX_SELECTED="No fix was selected."
COM_CSQUIRKYDBFIXES_ERROR_FIX_NOT_FOUND="The selected fix was not found."
COM_CSQUIRKYDBFIXES_ERROR_FIX_METHOD_NOT_FOUND="The fix method is not implemented."

; Fix detail messages (shown in result after running a fix)
COM_CSQUIRKYDBFIXES_DETAIL_CREATED_STAGES_TABLE="Created workflow_stages table"
COM_CSQUIRKYDBFIXES_DETAIL_CREATED_TRANSITIONS_TABLE="Created workflow_transitions table"
COM_CSQUIRKYDBFIXES_DETAIL_CREATED_ASSOCIATIONS_TABLE="Created workflow_associations table"
COM_CSQUIRKYDBFIXES_DETAIL_INSERTED_WORKFLOW="Inserted default workflow record"
COM_CSQUIRKYDBFIXES_DETAIL_INSERTED_STAGE="Inserted default workflow stage"
COM_CSQUIRKYDBFIXES_DETAIL_INSERTED_TRANSITIONS="Inserted %d workflow transition(s)"

; Fix 1: Missing Workflow System
COM_CSQUIRKYDBFIXES_FIX_MISSING_WORKFLOW_NAME="Restore Missing Workflow System (Articles not showing in Article Manager)"
COM_CSQUIRKYDBFIXES_FIX_MISSING_WORKFLOW_DESC="After migrating from Joomla 3 to Joomla 4, the workflow system may be incomplete - missing tables (workflow_stages, workflow_transitions, workflow_associations) or missing default records. Without the complete workflow infrastructure, articles won't appear in the Article Manager and new articles won't receive workflow associations. This fix creates any missing tables and inserts the default workflow, stage, and transition records."
COM_CSQUIRKYDBFIXES_FIX_MISSING_WORKFLOW_RESULT="Workflow system restored: %d action(s) taken."
COM_CSQUIRKYDBFIXES_WORKFLOW_SYSTEM_MISSING="The workflow system is incomplete. One or more of the 4 workflow tables or default records are missing. Articles may not appear in the Article Manager until this is fixed."

; Fix 2: Missing Workflow Associations
COM_CSQUIRKYDBFIXES_FIX_WORKFLOW_ASSOCIATIONS_NAME="Fix Missing Workflow Associations (Some articles not showing in Article Manager)"
COM_CSQUIRKYDBFIXES_FIX_WORKFLOW_ASSOCIATIONS_DESC="After migrating from Joomla 3 to Joomla 4, SOME or ALL articles may not appear in the Article Manager because they lack entries in the workflow_associations table. This fix creates the missing workflow association records for all articles that need them."
COM_CSQUIRKYDBFIXES_FIX_WORKFLOW_ASSOCIATIONS_RESULT="Created workflow associations for %d article(s)."
COM_CSQUIRKYDBFIXES_ARTICLES_MISSING_ASSOCIATIONS="%d article(s) are missing workflow associations and won't appear in the Article Manager."

; Fix 3: Missing Smart Search Menu Items
COM_CSQUIRKYDBFIXES_FIX_SMART_SEARCH_MENU_NAME="Fix Missing Smart Search Menu Items"
COM_CSQUIRKYDBFIXES_FIX_SMART_SEARCH_MENU_DESC="Sometimes the Smart Search (Finder) submenu items disappear from the Components menu in the administrator. This fix recreates the missing Index, Maps, Filters, and Searches submenu items under Components > Smart Search."
COM_CSQUIRKYDBFIXES_FIX_SMART_SEARCH_MENU_RESULT="Created %d Smart Search menu item(s)."
COM_CSQUIRKYDBFIXES_SMART_SEARCH_MENU_MISSING="%d Smart Search submenu item(s) are missing (Index, Maps, Filters, Searches)."
COM_CSQUIRKYDBFIXES_SMART_SEARCH_MENU_ALREADY_EXISTS="All Smart Search submenu items already exist."
COM_CSQUIRKYDBFIXES_ERROR_SMART_SEARCH_PARENT_NOT_FOUND="Could not find the Smart Search parent menu item. Is com_finder installed?"
COM_CSQUIRKYDBFIXES_ERROR_FINDER_COMPONENT_NOT_FOUND="Could not find the com_finder component in extensions table."

; Fix 4: Missing finder_tokens Table
COM_CSQUIRKYDBFIXES_FIX_FINDER_TOKENS_NAME="Fix Missing Smart Search Tokens Table (finder_tokens)"
COM_CSQUIRKYDBFIXES_FIX_FINDER_TOKENS_DESC="The finder_tokens table uses the MEMORY storage engine and is lost when MySQL restarts. This causes the error: 'Save failed with the following error: Table finder_tokens doesn't exist'. This fix recreates the table."
COM_CSQUIRKYDBFIXES_FIX_FINDER_TOKENS_RESULT="The finder_tokens table has been recreated successfully."
COM_CSQUIRKYDBFIXES_FINDER_TOKENS_MISSING="The finder_tokens table does not exist. Smart Search indexing will fail until this is fixed."

; Fix 5: Missing finder_tokens_aggregate Table
COM_CSQUIRKYDBFIXES_FIX_FINDER_TOKENS_AGG_NAME="Fix Missing Smart Search Tokens Aggregate Table (finder_tokens_aggregate)"
COM_CSQUIRKYDBFIXES_FIX_FINDER_TOKENS_AGG_DESC="The finder_tokens_aggregate table uses the MEMORY storage engine and is lost when MySQL restarts. This causes the error: 'Save failed with the following error: Table finder_tokens_aggregate doesn't exist'. This fix recreates the table."
COM_CSQUIRKYDBFIXES_FIX_FINDER_TOKENS_AGG_RESULT="The finder_tokens_aggregate table has been recreated successfully."
COM_CSQUIRKYDBFIXES_FINDER_TOKENS_AGG_MISSING="The finder_tokens_aggregate table does not exist. Smart Search indexing will fail until this is fixed."
